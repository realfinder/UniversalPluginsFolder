<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html style="height: auto;" xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<script async="" src="SmoothD2_files/cb=gapi.loaded_1.js"></script><script async="" src="SmoothD2_files/cb=gapi.loaded_0.js"></script><script src="SmoothD2_files/analytics.js" async=""></script><script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<link rel="shortcut icon" type="image/x-icon" href="SmoothD2_files/sites-16.ico">
<link rel="apple-touch-icon" href="urn:not-loaded:https://ssl.gstatic.com/sites/p/8d7917/system/app/images/apple-touch-icon.png" type="image/png">
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script><!--
/* Script removed by snapshot save */
--></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<meta name="title" content="SmoothD2">
<meta itemprop="name" content="SmoothD2">
<meta property="og:title" content="SmoothD2">
<meta name="description" content="SmoothD2 deblock smooth video filter for Avisynth based on SmoothD">
<meta itemprop="description" content="SmoothD2 deblock smooth video filter for Avisynth based on SmoothD">
<meta id="meta-tag-description" property="og:description" content="SmoothD2 deblock smooth video filter for Avisynth based on SmoothD">
<style type="text/css"><!--
/* Effective stylesheet produced by snapshot save */
--></style>
<link rel="stylesheet" type="text/css" href="SmoothD2_files/standard-css-charcoal-ltr-rtl.css">
<link rel="stylesheet" type="text/css" href="SmoothD2_files/overlay.css">
<link rel="stylesheet" type="text/css" href="SmoothD2_files/allthemes-view-rtl.css">
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/jconklin754smoothd2/system/app/css/camelot/allthemes%2die%2drtl.css" />
        <![endif]-->
<title>SmoothD2</title>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script src="SmoothD2_files/js.js" charset="UTF-8" type="text/javascript"></script><link href="#" rel="canonical"><style><!--
/* Effective stylesheet produced by snapshot save */
.dcs-o-dcs-kg-dcs-lg { position: relative; display: inline-block; }
:first-child + html .dcs-o-dcs-kg-dcs-lg { display: inline; }
.dcs-j-dcs-ac { border-radius: 2px; cursor: default; font-size: 11px; font-weight: bold; text-align: center; white-space: nowrap; margin-left: 16px; height: 27px; line-height: 27px; min-width: 54px; outline: 0px none; padding: 0px 8px; }
.dcs-j-dcs-ac-dcs-bc { box-shadow: none; background-color: rgb(77, 144, 254); background-image: -moz-linear-gradient(center top , rgb(77, 144, 254), rgb(71, 135, 237)); border: 1px solid rgb(48, 121, 237); color: rgb(255, 255, 255); }
.dcs-j-dcs-ac-dcs-bc:focus { box-shadow: 0px 0px 0px 1px rgb(255, 255, 255) inset; border: 1px solid transparent; outline: 0px none transparent; }
.dcs-j-dcs-ac-dcs-bc:active { box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.3) inset; background: none repeat scroll 0% 0% rgb(53, 122, 232); border: 1px solid rgb(47, 91, 183); }
.dcs-j-dcs-ac-dcs-je { box-shadow: none; background-color: rgb(245, 245, 245); background-image: -moz-linear-gradient(center top , rgb(245, 245, 245), rgb(241, 241, 241)); color: rgb(68, 68, 68); border: 1px solid rgba(0, 0, 0, 0.1); }
.dcs-j-dcs-ac-dcs-je:active, .dcs-j-dcs-ac-dcs-je.dcs-j-dcs-ac-dcs-gh:active { box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.1) inset; background: none repeat scroll 0% 0% rgb(248, 248, 248); color: rgb(51, 51, 51); }
.dcs-j-dcs-ac-dcs-je:focus { border: 1px solid rgb(77, 144, 254); outline: medium none; }
.dcs-a-dcs-l { right: 0px; position: absolute; }
.dcs-a { color: black; font-family: Arial,sans-serif,sans; font-size: 13px; white-space: normal; }
.dcs-a-dcs-c { position: relative; }
.dcs-a-dcs-c-dcs-q-dcs-r { border-top: 7px solid transparent; border-left: 8px solid rgb(255, 255, 255); border-bottom: 7px solid transparent; height: 0px; right: -6px; position: absolute; top: 3px; }
.dcs-a-dcs-c-dcs-q-dcs-rb { border-top: 7px solid transparent; border-left: 8px solid rgb(200, 200, 200); border-bottom: 7px solid transparent; height: 0px; right: -7px; position: absolute; top: 3px; }
.dcs-a-dcs-c-dcs-be { border: 1px solid rgb(200, 200, 200); -moz-box-sizing: border-box; color: rgb(153, 153, 153); font-family: Arial,sans-serif; font-size: 13px; margin: 0px; overflow: hidden; outline-width: 0px ! important; padding: 4px; resize: none; width: 100%; }
.dcs-a-dcs-c-dcs-be:disabled { background-color: rgb(238, 238, 238) ! important; }
:first-child + html .dcs-a-dcs-c-dcs-be { width: 95%; }
.dcs-a-dcs-c-dcs-xc { display: none; }
.dcs-a-dcs-c-dcs-xc-dcs-of { font-weight: bold; }
.dcs-a-dcs-nb .dcs-qe-dcs-mb-dcs-nb { display: none ! important; }
.dcs-lb-dcs-mb-dcs-nb { display: none; }
.dcs-a-dcs-nb .dcs-lb-dcs-mb-dcs-nb { display: inline-block ! important; }
.dcs-a-dcs-z-dcs-df { line-height: 140%; outline: medium none; }
.dcs-a-dcs-z-dcs-u { position: relative; }
.dcs-a-dcs-z-dcs-sb { color: rgb(51, 51, 51); padding: 12px 20px 12px 0px; }
.dcs-a-dcs-z-dcs-bb { margin: 6px 20px 10px 29px; position: relative; }
.dcs-a-dcs-z-dcs-bb-dcs-u { margin-right: 61px; position: relative; }
.dcs-a-dcs-z-dcs-xf { font-size: 12px; font-weight: bold; margin-bottom: 3px; top: -3px; }
.dcs-a-dcs-z-dcs-c-dcs-d { top: -4px; }
.dcs-a-dcs-z-dcs-c-dcs-d .dcs-a-dcs-c-dcs-of { font-weight: bold; }
.dcs-a-dcs-z-dcs-c-dcs-d .dcs-a-dcs-c-dcs-be { font-size: 12px; height: 30px; }
.dcs-a-dcs-vc-dcs-wc { padding: 0px 20px 0px 29px; }
.dcs-a-dcs-c-dcs-hb { margin: 0px; }
.dcs-a-dcs-c-dcs-of { margin: 8px 0px 0px 7px; }
--></style><script gapi_processed="true" src="SmoothD2_files/api.js" charset="UTF-8" type="text/javascript"></script><script src="SmoothD2_files/ga.js"></script><script src="SmoothD2_files/element.js"></script><link href="SmoothD2_files/translateelement.css" charset="UTF-8" rel="stylesheet" type="text/css"><script src="SmoothD2_files/main_ar.js" charset="UTF-8" type="text/javascript"></script><script src="SmoothD2_files/element_main.js" charset="UTF-8" type="text/javascript"></script><style><!--
/* Effective stylesheet produced by snapshot save */
.goog-te-ftab-float { z-index: 9999999; overflow: visible; position: fixed; top: auto; left: auto; bottom: 0px; right: 20px; }
--></style></head>
<body style="position: relative; min-height: 100%; top: 0px;" xmlns="http://www.google.com/ns/jotspot" id="body" class=" en           user-rtl ">
<script src="SmoothD2_files/caja.js"> </script>
<script src="SmoothD2_files/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" style="" cellspacing="0">
<tbody><tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class=""><div class="sites-header-cell-buffer-wrapper"><h2><a href="https://sites.google.com/site/jconklin754smoothd2/" dir="ltr" id="sites-chrome-userheader-title">SmoothD2</a></h2></div></td><td class="sites-layout-searchbox "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/site/jconklin754smoothd2/system/app/pages/search"><input id="sites-searchbox-scope" name="scope" value="search-site" type="hidden"><input id="jot-ui-searchInput" name="q" size="20" aria-label="Search this site" type="text"><div id="sites-searchbox-button-set" class="goog-inline-block"><div style="-moz-user-select: none;" role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
<div class="sites-header-nav"><ul class="sites-header-nav-container-boxes"><li class="current"><a class="sites-navigation-link current" href="#">Home</a></li><li class="unselected"><a class="sites-navigation-link unselected" href="https://sites.google.com/site/jconklin754smoothd2/examples">Examples</a></li><li class="unselected"><a class="sites-navigation-link unselected" href="https://sites.google.com/site/jconklin754smoothd2/download">Download</a></li><li class="unselected"><a class="sites-navigation-link unselected" href="https://sites.google.com/site/jconklin754smoothd2/home/speed-tests">Speed Tests</a></li></ul><div style="clear: both;"></div></div>
</td>
</tr>
</tbody></table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" border="0" cellpadding="{scmCellpadding}" cellspacing="0">
<tbody><tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="display: none; width: 120px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed"><div class="sites-embed-content sites-sidebar-nav"><ul jotid="navList"><li class="nav-first "><div class="current-bg" jotid="wuid:gx:5af2a4b947ad75b3" dir="ltr" style="padding-left: 5px;">Home</div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://sites.google.com/site/jconklin754smoothd2/download" jotid="wuid:gx:4c11254446e75acb" class="sites-navigation-link">Download</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://sites.google.com/site/jconklin754smoothd2/examples" jotid="wuid:gx:51f7297fbc9fc2eb" class="sites-navigation-link">Examples</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://sites.google.com/site/jconklin754smoothd2/speedtests" jotid="wuid:gx:77524474c4ab1abd" class="sites-navigation-link">SpeedTests</a></div></li></ul></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">Home</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column sites-layout-hbox" cellspacing="0"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><h2 style="margin-right:0in;margin-left:0in;text-indent:0in;font-size:18pt;font-family:Times New Roman,serif;color:rgb(0,0,0);text-align:center"><a name="TOC-SmoothD2"></a><span style="font-size:20pt" lang="DE"><div style="display:block;text-align:left"><br></div>SmoothD2</span></h2></blockquote></blockquote></blockquote></blockquote><p style="margin-right:0in;margin-left:0in;text-indent:0in"><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:14pt" lang="DE">SmoothD2</span></b><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt" lang="DE">(clip <i>clip,</i> int </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt" lang="DE">quant</span></b><i style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt" lang="DE">, </span></i><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt" lang="DE">int<i> </i></span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt" lang="DE">num_shift</span></b><i style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt" lang="DE">,</span></i><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt" lang="DE"> int </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">Matrix</span></b><i style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt" lang="DE">,</span></i><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt" lang="DE"> int </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">Qtype</span></b><i style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">,</span></i><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt"> int </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">ZW</span></b><i style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">,</span></i><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt"> int </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">ZWce</span></b><i style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">,</span></i><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt"> clip </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">ZWmask</span></b><i style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">,</span></i><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt"> int </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">ZWlmDark</span></b><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt">, int </span><b style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:medium"><span style="font-size:12pt">ZWlmBright</span></b><font face="Times New Roman, serif" size="3"><b>, </b>int <b>ncpu</b></font><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt;text-indent:0in">)</span></p><p style="margin-right:0in;margin-left:0in;text-indent:0in"><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt" lang="DE"><b><span style="font-size:14pt" lang="DE">SmoothD2c</span></b>(clip <i>clip,</i> int <b>quant</b><i>, </i><span style="font-size:12pt" lang="DE">int<i> </i></span><b>num_shift</b><i>,</i> int <b>Matrix</b><i>,</i> int <b>Qtype</b><i>,</i> int <b>ZW</b></span><font face="Times New Roman, serif" size="3"><b>, </b>int <b>Cpr</b></font><span style="text-indent:0in;font-family:Times New Roman,serif;font-size:12pt" lang="DE"><span style="font-size:12pt">, int <b>cWarpToLuma</b>, int <b>downSize</b></span></span><font style="text-indent:0in" face="Times New Roman, serif" size="3"><b>, </b>int <b>ncpu</b></font><span style="text-indent:0in;font-family:Times New Roman,serif;font-size:12pt">)   </span><span style="font-family:Times New Roman,serif;font-size:12pt;text-indent:0in">Provided in an included .avs script to do
color deblocking.</span></p><p style="margin-right:0in;margin-left:0in;text-indent:0in;font-size:medium;font-family:Times New Roman,serif;color:rgb(0,0,0)"><span style="font-size:12pt" lang="DE">
</span></p><p style="margin-left:.25in"><font face="times new roman, serif"><b><span style="font-size:12pt" lang="DE">SmoothD2</span></b><span style="font-size:12pt" lang="DE"> is a deblocker. 
The purpose of all deblockers is to remove block encoding
artifacts.  The primary ones are
blockiness and ringing caused by high frequency transients, </span><span style="font-size:12pt">“</span><span style="font-size:12pt" lang="DE">large
brightness change</span><span style="font-size:12pt">”</span><span style="font-size:12pt" lang="DE">, at block boundaries.  The trick of course is to only to remove the
transients that are introduced by the encoding process, and not a line in the
original image that happens to have the misfortune of being on a block boundary.  </span></font></p><p style="margin-left:.25in"><font face="times new roman, serif"><span style="font-size:12pt" lang="DE"><b>SmoothD2</b>
reduces the high frequency transients at the block boundaries by doing the
following.  For each 8x8 block in an
image SmoothD2 samples various 8x8 blocks shifted but still overlapping the
current block.  This is done by shifting
the whole image.  Then for each shifted image
every 8x8 block is run through a fdct-quantize-dequantize-idct process that removes
high frequency transients.  Then the
shifted image is shifted back to its original position and averaged with all of
the other shifted, processed, back shifted, images to produce the deblocked
image.  Ideally this process reduces the high
frequency transients at the block boundaries to stay within the maximum high
frequency of the original image.  Please
see “JPEG resampling paper.pdf”  which is
included in the documantation directory of the SmoothD2 download file for more
information.  </span><b><span style="font-size:12.0pt" lang="DE">Quant</span></b><span style="font-size:12pt" lang="DE"> controls the overall
strength of the high frequency transients removal.  </span><b><span style="font-size:12.0pt">Matrix</span></b><span style="font-size:12pt"> provides some control over the thickness and direction (horizontal
vertical or diagonal lines) of the transient.</span></font></p><p style="margin-right:0in;margin-left:0.25in"><b style="color:rgb(0,0,0)"><font face="times new roman, serif" size="4">Getting Started:</font><font face="times new roman, serif" size="3">  </font></b><font style="color:rgb(0,0,0)" face="times new roman, serif" size="3">First all parameters default to reasonable values so SmoothD2() should work, though it will provide only very weak deblocking.  </font><font face="times new roman, serif" size="3">The most important parameter is <b>quant</b>,<b> </b>which is the primary control of deblocking strength.  If you can get the amount of deblocking needed then try using the Zero Weight </font><span style="font-family:times new roman,serif;font-size:medium">parameters</span> <font face="times new roman, serif" size="3">to recover some detail.  If you could not get as much deblocking as desired then try using a different <b>Matrix</b>.  If you still can't get enough deblocking then try a different </font><b style="font-size:15px"><span style="font-size:12pt"><font face="Calibri, sans-serif">Qtype</font><font face="Times New Roman, serif">.</font></span></b></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:14pt;font-family:Times New Roman,serif" lang="DE">Parameters</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (default values in <b>bold</b>):</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt" lang="DE">quant</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (1...<b>3</b>...31)</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">: This parameter specifies the quantizer value used.  Larger values mean stronger filtering.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt" lang="DE">num_shift</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (1, 2, <b>3</b>, 4)</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">: Specifies the number of shifted versions used for filtering providing a speed vs. quality tradeoff.  A larger value is more accurate and time consuming.</span></p><p style="margin-right:0in;margin-left:1.25in;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">1.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Uses   4 shifted versions.</span><br><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">2.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Uses   8 shifted versions.</span><br><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">3.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Uses 16 shifted versions.  Best speed vs. Quality</span><br><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">4.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Uses 64 shifted versions</span></p><div style="display:block;text-align:left"></div><b><br></b><p style="margin-top:0in;margin-right:0in;margin-bottom:6.0pt;margin-left:1.0in;text-indent:0in"><span style="font-size:12.0pt;font-family:Times New Roman,serif">If using </span><span lang="DE"><b><font size="3"><font face="'times new roman', serif">num_shif</font><font face="arial, sans-serif">t</font></font><font style="font-size:small" face="arial, sans-serif"> </font></b></span><span style="font-size:12.0pt;font-family:Times New Roman,serif">= 1 there are not enough samples to eliminate "beat"
artifacts when using Qtypes &gt; 1. 
"Beat" artifacts may be visible for </span><b><font face="'times new roman', serif" size="3">Qtype=2</font></b><span style="font-size:12.0pt;font-family:Times New Roman,serif"> with </span><span style="font-size:12pt" lang="DE"><b><font face="'times new roman', serif">quant&gt;16</font></b> </span><span style="font-size:12.0pt;font-family:Times New Roman,serif" lang="DE">or</span><span style="font-size:12.0pt" lang="DE"> </span><b><span style="font-size:12.0pt"><font face="'times new roman', serif">Qtype=4</font></span></b><span style="font-size:12.0pt;font-family:Times New Roman,serif"> with </span><b><span lang="DE"><font face="'times new roman', serif" size="3">quant&gt;9.</font><font size="3">  </font></span></b><span style="font-size:12.0pt;font-family:Times New Roman,serif" lang="DE">The following table gives the
quant values that may produce </span><span style="font-size:12.0pt;font-family:Times New Roman,serif">"beat"
artifacts</span><span style="font-size:12.0pt;font-family:Times New Roman,serif" lang="DE"> for</span><span style="font-size:12.0pt;font-family:Times New Roman,serif" lang="DE"> </span><b><span style="font-size:12.0pt"><font face="'times new roman', serif">Qtype=3</font></span></b><span style="font-size:12.0pt;font-family:Times New Roman,serif"> for each matrix.</span></p><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><table style="border-collapse:collapse;border-top-color:rgb(136,136,136);border-right-color:rgb(136,136,136);border-bottom-color:rgb(136,136,136);border-left-color:rgb(136,136,136);border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px" border="1" bordercolor="#888" cellspacing="0"><tbody><tr><td style="text-align:center;width:60px"> <b>Matrix</b></td><td style="text-align:center;width:60px"><b>Quant</b></td></tr><tr><td style="text-align:center;width:60px"> 2</td><td style="text-align:center;width:60px">22 </td></tr><tr><td style="text-align:center;width:60px"> 3</td><td style="text-align:center;width:60px">16 </td></tr><tr><td style="text-align:center;width:60px"> 5</td><td style="text-align:center;width:60px">22 </td></tr><tr><td style="text-align:center;width:60px"> 6</td><td style="text-align:center;width:60px">24 </td></tr><tr><td style="text-align:center;width:60px"> 7</td><td style="text-align:center;width:60px">10 </td></tr><tr><td style="text-align:center;width:60px"> 8</td><td style="text-align:center;width:60px">10 </td></tr></tbody></table></blockquote></blockquote></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><p style="margin-left:.5in"><font face="'Times New Roman', serif" size="3"><br></font></p></blockquote></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><b><font face="'times new roman', serif" size="3">Matrix</font></b><span lang="DE"><b><font face="'times new roman', serif" size="3"> </font></b><font style="font-size:12pt" face="'Times New Roman', serif">(1...</font><b style="font-size:12pt;font-family:Times New Roman,serif">3</b><font style="font-size:12pt" face="'Times New Roman', serif">...110)</font></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">: Selects a prebuilt matrix to use.  </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"><span style="font-size:12pt" lang="DE">1 thru 9 are either </span><span style="font-size:12pt">"</span><span style="font-size:12pt" lang="DE">standard</span><span style="font-size:12pt">"</span><span style="font-size:12pt" lang="DE">
matrices that I found on the net or slightly modified versions of them</span>.  They are ordered according to their deblocking strength from weak to strong.  They are the only ones with calibrated strengths which allows the </span><font face="'times new roman', serif"><b><span style="font-size:12pt">ZW</span></b><span style="font-size:12pt"> </span></font><span style="font-size:12pt;font-family:Times New Roman,serif">arguments to produce consistent results.  Note </span><span style="font-size:12pt"><b><font face="'times new roman', serif">Matrix</font></b></span><span style="font-size:12pt"><b><font face="'times new roman', serif"> </font></b><font face="'Times New Roman', serif">is not used by used by </font></span><font face="'times new roman', serif"><b><span style="font-size:12pt">Qtype</span></b><span style="font-size:12pt">’s </span></font><font face="Times New Roman, serif" size="3">2 and 4 which use the built in h263 matrices. </font></div><div><font face="times new roman, serif" size="1"><div style="display:block;text-align:left"><a href="https://sites.google.com/site/jconklin754smoothd2/home/Matrix2.png?attredirects=0" imageanchor="1"><img src="SmoothD2_files/Matrix2.png" border="0"></a></div><br></font></div></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div></div></blockquote></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div></div></blockquote><div><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif">For more information look at the file <b>doMatrix.c</b> which defines all of the matricies.  </span><span style="font-family:Times New Roman,serif;font-size:12pt">Currently there are 110
matrices defined.</span><span style="font-family:Times New Roman,serif;font-size:12pt">  </span><span style="font-family:Times New Roman,serif;font-size:12pt">They are almost all
useless but are fun to play with.</span><span style="font-family:Times New Roman,serif;font-size:12pt">  </span><span style="font-family:Times New Roman,serif;font-size:12pt">I built them to see how matrices
worked.  </span><span style="font-size:12pt;font-family:Times New Roman,serif">For an excellent description of </span><span style="font-size:12pt;font-family:Times New Roman,serif">what
a matrix does see <a href="http://forum.doom9.org/showthread.php?t=54147" rel="nofollow">http://forum.doom9.org/showthread.php?t=54147</a></span></p><p style="margin-right:0in;margin-left:0.75in;color:rgb(0,0,0)"><font face="times new roman, serif" size="1"><br></font></p><p style="margin-left:.75in"><span style="color:black"><font face="times new roman, serif" size="1">
</font></span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt">Qtype</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (<b>1</b>, 2, 3, 4)</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">: <b>Q</b>uant <b>Type</b>.  Selects the type of quant-dequant processing that is used in the filtering.  They are ordered by their deblocking strength from least strong to strongest.  </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">h263 intra and h263
inter, </span><b><span style="font-size:12pt">Qtype</span></b><span style="font-size:12pt">’s</span><span style="font-size:12pt;font-family:Times New Roman,serif"> <span lang="DE">2 and 4, ignore the matrix argument and use their own
built in matrix.</span></span></p><ol><ol><li><font face="'times new roman', serif" size="3"><span lang="DE"> </span><span lang="DE">mpeg intra </span></font></li><li><font face="'times new roman', serif" size="3"><span lang="DE"> </span><span lang="DE">h263 intra  </span></font></li><li><font face="'times new roman', serif" size="3"><span lang="DE"> </span><span lang="DE">mpeg inter </span></font></li><li><font face="'times new roman', serif" size="3"><span lang="DE"> </span><span lang="DE">h263 inter   </span></font></li></ol></ol><p style="margin-right:0in;margin-left:0.75in"><span lang="DE"><span lang="DE"><font color="#000000" face="Times New Roman, serif" size="3">The intra in Qtypes 1 and 2 referes to
the encoding done for I-Frames.  The
inter in Qtypes 3 and 4 refers to the encoding done for P-frames and B-Frames.  See  </font><a href="http://www.fh-friedberg.de/fachbereiche/e2/telekom-labor/zinke/mk/mpeg2beg/beginnzi.htm" style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt" rel="nofollow">http://www.fh-friedberg.de/fachbereiche/e2/telekom-labor/zinke/mk/mpeg2beg/beginnzi.htm</a><font color="#000000" face="Times New Roman, serif" size="3">
 for a good introduction to mpeg coding.  Different matrices are usually used when
encoding I-Frames then when encoding P-Frames and B-Frames.  All the information about how a particular frame was originally encoded, I-Frame, P-Frame, B-Frame, and Matrix value, has been
lost by the time SmoothD2 is passed a frame to process</font></span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">, SmoothD2 does not do
automatic intra-inter </span><b><span style="font-size:11.0pt;font-family:Calibri,sans-serif" lang="DE">Qtype</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> or
matrix switching. </span></p><p style="margin-right:0in;margin-left:0.75in"><span lang="DE"><span lang="DE"><span style="font-family:Times New Roman,serif;font-size:12pt"> </span><font color="#000000" face="Times New Roman, serif" size="3"> </font></span><font color="#000000" face="Times New Roman, serif" size="3"> </font></span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:14pt;font-family:Times New Roman,serif" lang="DE">Zero Weight Arguments:</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">  The Zero Weight arguments can be used to control the strength of filtering.  The strength can be specified for the frame as a whole, by the distance from a macroblock edge, and at the individual pixel level.  The strength can also be specified based upon the brightness of the pixel.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">The </span><b><span style="font-size:12pt" lang="DE">ZW</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> arguments control the filtering strenght by changing the number of original unfilterd images added to the shifted and filtered images before they are averaged to produce the output image.  Obviously the more unfilterd images that are added the less filtering will occure. Internally the amount of filtering is normallized so that the lowest value for an argument produces full filtering strength and the highest value produces virtually no filtering of the original image.  For </span><b><span style="font-size:12pt" lang="DE">ZW</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> values 1-16 this attempts to be independent of  the </span><b><span style="font-size:12pt" lang="DE">quant, num_shift,</span></b><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span></b><b><span style="font-size:12pt">Matrix</span></b><span style="font-size:12pt"> (</span><span style="font-size:12pt;font-family:Times New Roman,serif">for </span><b><span style="font-size:12pt">Matrix</span></b><span style="font-size:12pt"> </span><span style="font-size:12pt;font-family:Times New Roman,serif">values less then 10)</span><b><span style="font-size:12pt">,</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">  and </span><b><span style="font-size:12pt">Qtype</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> values.  </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Internally, at each pixel location, each argument will produce a normalized value.  The 4 normalized values are added and the result is clipped to the value that will produce almost zero filtering. </span></p><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt">ZW</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (0, <b>1</b>...16)</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">: <b>Z</b>ero <b>W</b>eight. Specifies the relative weight of the non-shifted original image to the weight of the shifted and processed images. A higher value counteracts filtering but keeps more detail.  This operates on the frame as a whole.  Note that </span><b><span style="font-size:12pt" lang="DE">ZW</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> values 1-16 are normalized so that the percieved effect of  the reduction of filtering due to </span><b><span style="font-size:12pt" lang="DE">ZW</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">remains constant when changes are made to </span><b><span style="font-size:12pt" lang="DE">quant</span></b><span style="font-size:12pt" lang="DE">, </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span><b><span style="font-size:12pt" lang="DE">num_shift, </span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span><b><span style="font-size:12pt">Matrix</span></b><span style="font-size:12pt"> (</span><span style="font-size:12pt;font-family:Times New Roman,serif">for</span><b><span style="font-size:12pt"> Matrix</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> values less then 10)</span><b><span style="font-size:12pt">,</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">  and </span><b><span style="font-size:12pt">Qtype</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> values.</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">  </span><b><span style="font-size:12pt" lang="DE">ZW</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">=0 does not include the non-shifted original image in the output image and will produce the strongest filtering. </span><b><span style="font-size:12pt" lang="DE"> </span></b></p><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt">ZWce</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (<b>1</b>...20)</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">: <b>Z</b>ero <b>W</b>eight <b>C</b>enter to <b>E</b>dge.  This argument allows the center of all 8x8 macroblocks to have less filtering then the edge of the macroblock.  The edge of the macroblock always recieves the amount of filtering determined by the other arguments.  This allows for less detail loss while maintaining strong deblocking.  </span><b><span style="font-size:12pt">ZWce</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> specifies the entry in a table which is used to determin the the processing strength from the center of a macroblock to its edge.</span> </p></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div><div style="display:block;margin-right:auto;text-align:left"><a href="https://sites.google.com/site/jconklin754smoothd2/home/image002.png?attredirects=0" imageanchor="1"><img src="SmoothD2_files/image002.png" border="0"></a></div></div></div></blockquote></blockquote><div><div><br></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><span style="font-size:12pt;font-family:Times New Roman,serif">There are 4 possible values that VP1, VP2 and VP3 can have.</span></blockquote></blockquote><p style="margin-right:0in;margin-left:1.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-top:0in;margin-bottom:0.0001pt"><span style="font-size:12pt;font-family:Times New Roman,serif">0.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">Full filtering strength</span></p><p style="margin-right:0in;margin-left:1.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-top:0in;margin-bottom:0.0001pt"><span style="font-size:12pt;font-family:Times New Roman,serif">1.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">Medium filtering strength</span></p><p style="margin-right:0in;margin-left:1.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-top:0in;margin-bottom:0.0001pt"><span style="font-size:12pt;font-family:Times New Roman,serif">2.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">Low filtering strength</span></p><p style="margin-right:0in;margin-left:1.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-top:0in;margin-bottom:0.0001pt"><span style="font-size:12pt;font-family:Times New Roman,serif">3.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">Almost zero filtering</span></p><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif">The values</span><b><span style="font-size:12pt"> ZWce</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> can take start from <b>1</b> which sets values VP1, VP2 and VP3 to 0 which means there is full filtering strength everywhere in the macroblock. As the values get larger the filtering gets stronger from the center outward.  When </span><b><span style="font-size:12pt">ZWce</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> equals 5  VP1, VP2 are 0 and VP3 is 4 which means the the center 4 pixels have no filtering applied (the source pixel values are copied to the output frame) and the rest of the pixels in the block are filtered at full strength.  This will usually produce obvious artifacts.</span></p></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><table style="text-align:center;border-collapse:collapse;border-top-color:rgb(136,136,136);border-right-color:rgb(136,136,136);border-bottom-color:rgb(136,136,136);border-left-color:rgb(136,136,136);border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px" border="1" bordercolor="#888" cellspacing="0"><tbody><tr><td style="width:60px"><b> ZWce</b></td><td style="width:60px"><b>VP1</b> </td><td style="width:60px"><b>VP2</b> </td><td style="width:60px"><b>VP3</b> </td></tr><tr><td style="width:60px"> 1</td><td style="width:60px">0 </td><td style="width:60px">0 </td><td style="width:60px">0 </td></tr><tr><td style="width:60px"> 2</td><td style="width:60px">0 </td><td style="width:60px">0 </td><td style="width:60px">1 </td></tr><tr><td style="width:60px"> 3</td><td style="width:60px">0 </td><td style="width:60px">0</td><td style="width:60px">2 </td></tr><tr><td style="width:60px"> 4</td><td style="width:60px">0 </td><td style="width:60px">0 </td><td style="width:60px">3 </td></tr><tr><td style="width:60px"> 5</td><td style="width:60px">0 </td><td style="width:60px">1 </td><td style="width:60px">1 </td></tr><tr><td style="width:60px"> 6</td><td style="width:60px">0 </td><td style="width:60px">1 </td><td style="width:60px">2 </td></tr><tr><td style="width:60px"> 7</td><td style="width:60px">0 </td><td style="width:60px">1 </td><td style="width:60px">3 </td></tr><tr><td style="width:60px"> 8</td><td style="width:60px">0 </td><td style="width:60px">2 </td><td style="width:60px">2 </td></tr><tr><td style="width:60px"> 9</td><td style="width:60px">0 </td><td style="width:60px">2 </td><td style="width:60px">3 </td></tr><tr><td style="width:60px"> 10</td><td style="width:60px">0 </td><td style="width:60px">3 </td><td style="width:60px">3 </td></tr><tr><td style="width:60px"> 11</td><td style="width:60px">1 </td><td style="width:60px">1 </td><td style="width:60px">1 </td></tr><tr><td style="width:60px"> 12</td><td style="width:60px">1 </td><td style="width:60px">1 </td><td style="width:60px">2 </td></tr><tr><td style="width:60px"> 13</td><td style="width:60px">1 </td><td style="width:60px">1 </td><td style="width:60px">3 </td></tr><tr><td style="width:60px"> 14</td><td style="width:60px">1 </td><td style="width:60px">2 </td><td style="width:60px">2 </td></tr><tr><td style="width:60px"> 15</td><td style="width:60px">1 </td><td style="width:60px">2</td><td style="width:60px">3 </td></tr><tr><td style="width:60px"> 16</td><td style="width:60px">1 </td><td style="width:60px">3 </td><td style="width:60px">3 </td></tr><tr><td style="width:60px"> 17</td><td style="width:60px">2 </td><td style="width:60px">2 </td><td style="width:60px">2 </td></tr><tr><td style="width:60px"> 18</td><td style="width:60px">2 </td><td style="width:60px">2 </td><td style="width:60px">3 </td></tr><tr><td> 19</td><td>2 </td><td>3 </td><td>3 </td></tr><tr><td> 20</td><td>3 </td><td>3 </td><td>3 </td></tr></tbody></table></div></blockquote></blockquote></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif"><br></span></p></div></blockquote><div><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt">ZWmask</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (<b>0</b>...16)</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">:  <b>Z</b>ero <b>W</b>eight <b>mask</b>.  This clip specifies the zero weight value to be applied to each pixel in the source clip.  Any pixel values greater than 16 will be clipped to 16. </span></p><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt">ZWlmDark</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (<b>0</b>...255)</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">: <b> Zero</b> <b>W</b>eight <b>L</b>uma <b>Dark</b> Value.  The filter strength is reduced for any pixel value starting at </span><b><span style="font-size:12pt">ZWlmDark </span></b><span style="font-size:12pt;font-family:Times New Roman,serif">and reaching 0 filtering strength as the pixel value aproaches 0.</span><span style="font-size:12pt;font-family:Times New Roman,serif"> </span><span style="font-size:12pt">  The filtering strength is reduced less at block boundaries.  </span><span style="font-size:12pt;font-family:Times New Roman,serif">Values between 32-64 are a good place to start. </span><span style="font-size:12pt"> </span><span style="font-size:12pt;font-family:Times New Roman,serif">This argument allows more detail to be retained in dark areas which might otherwise appear over smoothed.  Obviously when setting this value it is important that the monitor you are working on displays dark grey to black with reasonable fidelity.</span></p><p style="margin-right:0in;margin-left:0.75in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt">ZWlmBright</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> (0…<b>255</b>):  </span><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Zero</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> <b>W</b>eight <b>L</b>uma <b>Bright</b> Value.  Any</span><span style="font-size:12pt;font-family:Times New Roman,serif"> source pixel value that is ≥  </span><b><span style="font-size:12pt">ZWlmBright</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> will be filtered at the value specified by the <b>ZW</b> argument.  This can be used to reduce bright spots that </span><b><span style="font-size:12pt">ZWce</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> might otherwise let through.  Values &gt; 192 are a good place to start.</span></p><p style="margin-right:0in;margin-left:0.75in;color:rgb(0,0,0)"><b style="font-family:Calibri,sans-serif;font-size:11pt"><span style="font-size:12pt">ncpu</span></b><span style="font-family:Times New Roman,serif;font-size:12pt"> (<b>1</b>…4):  <b>N</b>umber<b> </b>of <b>cpu</b> cores to use</span><span style="font-family:Times New Roman,serif;font-size:12pt" lang="DE">. </span><font face="times new roman, serif"><span style="font-size:12pt" lang="DE"> </span><span style="line-height:115%"><font size="3">The multithreading code path is completely bypassed if only 1 cpu is
used.</font></span></font></p><h2 style="margin-left:.25in"><a name="TOC-1"></a><span style="font-size:12.0pt" lang="DE"><br></span></h2><h2 style="margin-left:.25in"><a name="TOC-SmoothD2c:-The-following-parameters-are-specific-to-SmoothD2c."></a><span style="font-size:12.0pt" lang="DE">SmoothD2c:</span><span style="font-size:12.0pt;font-weight:normal" lang="DE"> <font face="times new roman, serif">The following parameters are specific
to </font></span><span style="font-size:12.0pt" lang="DE"><font face="times new roman, serif">SmoothD2c</font></span><span style="font-size:12.0pt;font-weight:normal" lang="DE"><font face="times new roman, serif">.</font></span></h2>
</div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><p style="margin-right:0in;margin-left:0.25in"><b><font face="arial, sans-serif" size="3">Getting Started:</font><font face="times new roman, serif" size="3">  </font></b><font face="times new roman, serif" size="3">First all parameters default to reasonable values so SmoothD2c() should work, though it will provide only very weak deblocking.  </font><font face="times new roman, serif" size="3">The most important parameter is <b>quant</b>,<b> </b>which is the primary control of deblocking strength.  If you can not get as much deblocking as desired then try using a different Matrix.  Try </font><span style="font-family:times new roman,serif;font-size:medium"><b>Matrix </b>8, or Matrix 13-29.</span><span style="font-family:times new roman,serif;font-size:medium">  If you still can't get enough deblocking then try <b>Qtype</b>=2 or 4. </span><span style="font-family:times new roman,serif;font-size:medium"> If you still can't get enough deblocking then increase downSize.</span><span style="font-family:times new roman,serif;font-size:medium">  When you get enough deblocking find an area, usually in a darker part of the picture, that the chroma has washed out and start increasing <b>Cpr</b></span><span style="font-family:times new roman,serif;font-size:medium"><b>  </b>until the chroma returns.  Its a balancing act between chroma washout and chroma deblocking.  </span></p><p style="margin-right:0in;margin-left:0.25in"><font face="times new roman, serif" size="3">When you have gotten this far and you have chroma bleeding around strong luma edges then you can try increasing <b>cWarpToLuma</b></font><span style="font-family:times new roman,serif;font-size:medium"><b>  </b>to see if it will help reduce it.  Note that cWarpToLuma especially at higher settings will tend to washout the chroma around the edges.</span><span style="font-family:times new roman,serif;font-size:medium">  This chroma washout cannot be corrected by increasing Cpr.</span></p></blockquote><div><p style="margin-left:.75in"><span style="font-size:12pt" lang="DE"><font face="times new roman, serif"><b>Cpr</b></font></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> (<b>0</b>...8)</span><span lang="DE"><font face="Times New Roman, serif" size="3">:  </font><font face="Times New Roman, serif" size="3"><b>C</b>hroma<b> Pr</b>otection Strength</font><font face="Times New Roman, serif" size="3">.  </font></span><font face="Times New Roman, serif" size="3">Provides control over chroma desaturation at low luma levels.  It does so by building a SmoothD2 Zero Weight Mask "ZWmask".  Low luma pixels map to high Zero weights in </font><font face="times new roman, serif" size="3">ZWmask</font><font face="Times New Roman, serif" size="3">.  Default <b>0</b> no protection.  8 strong protection.</font></p><p style="margin-left:.75in"><font face="times new roman, serif"><b><span style="font-size:12.0pt">cW</span></b><b><span style="font-size:12pt">arpToLuma</span></b></font><span style="font-size:12.0pt;font-family:Times New Roman,serif" lang="DE"> (<b>0</b>...8)</span><span lang="DE"><font face="Times New Roman, serif" size="3">:  </font><b style="font-family:Times New Roman,serif;font-size:12pt">C</b><font face="Times New Roman, serif" size="3">olor</font><b style="font-family:Times New Roman,serif;font-size:12pt"> Warp To Luma</b><font face="Times New Roman, serif" size="3">.  Values &gt; 0 will warp the chroma toward strong luma
edges.  8 provides maximum warping.  It can be useful if there is color fringing
or color halos around edges. </font></span><font face="Times New Roman, serif" size="3">The downside is it can desaturate colors in dark areas. <b>NOTE</b>: The SmoothD2c() argument <b>Cpr </b>will have NO effect on chroma desaturation caused by</font><font face="Times New Roman, serif" size="3"> cWarpToLuma. The warping is done using the </font><b style="font-family:Times New Roman,serif;font-size:12pt">aWarpSharp2.dll</b><font face="Times New Roman, serif" size="3">  avalable from  </font><a href="http://sites.google.com/site/pavelsx2" style="font-family:Times New Roman,serif;font-size:12pt" target="_blank" rel="nofollow">http://sites.google.com/site/pavelsx2</a></p><p style="margin-left:.75in"><b style="font-family:times new roman,serif;font-size:medium;text-align:left">downsize </b><span style="font-family:times new roman,serif;font-size:medium;text-align:left">(</span><b style="font-family:times new roman,serif;font-size:medium;text-align:left">1</b><span style="font-family:times new roman,serif;font-size:medium;text-align:left">...4):  </span><b style="font-family:times new roman,serif;font-size:medium;text-align:left">Downsize </b><span style="font-family:times new roman,serif;font-size:medium;text-align:left">specifies how much the smaller the frame should be made before the color deblocking is done.  This can be useful in deblocking video where each block has become a single color.  See the HD color deblocking examples.</span></p><ol><ol><ol><li><font face="times new roman, serif" size="3">No Downsizing.  Default.</font></li><li><font face="times new roman, serif" size="3">Reduce image to 1/2 it's original size before processing.</font></li><li><font face="times new roman, serif" size="3">Reduce image to 1/3 it's original size before processing.</font></li><li><font face="times new roman, serif" size="3">Reduce image to 1/4 it's original size before processing.</font></li></ol></ol></ol></div><div><h2 style="margin-right:0in;margin-left:0.25in;font-size:18pt;font-family:Times New Roman,serif;color:rgb(0,0,0)"><a name="TOC--"></a> </h2><h2 style="margin-right:0in;margin-left:0.25in;font-size:18pt;font-family:Times New Roman,serif;color:rgb(0,0,0)"><a name="TOC-Description-of-filter"></a>Description of filter</h2><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">SmoothD2 filters the input stream by repeated application of a DCT-quant-dequant-iDCT on shifted copies of each frame. Then shifting the processed copies back to the original positions where they are averaged to produce a new deblocked frame.  By choosing an appropriate quant strength the filter can be used for deblocking or smoothing tasks.</span></p><h2 style="margin-right:0in;margin-left:0.25in;font-size:18pt;font-family:Times New Roman,serif;color:rgb(0,0,0)"><a name="TOC-Support-Scripts"></a><span lang="DE">Support Scripts</span></h2><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span lang="DE">smoothD2_Calibrate_ZeroWeight.avs  </span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">This file contains several </span><span style="font-size:12pt;font-family:Times New Roman,serif">routines to help calibrate the <span>quantShiftsVal</span>() routine which produces a result that allows the Zero Weight arguments to produce a consistent result independent of the values num_shift, quant, Qtype, and Matrix.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><br></b></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:18pt;font-family:Times New Roman,serif" lang="DE">Background information</span></b></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">The original idea stems from a 2001 master thesis at University of Dallas. It was later published as a paper by <a href="http://www.utdallas.edu/%7Earia/mcl/post/" style="color:purple" rel="nofollow">A. Nosratinia</a>.  A copy of the paper is in the file </span><span style="font-size:12pt;font-family:Times New Roman,serif">"</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">JPEG resampling paper.pdf</span><span style="font-size:12pt;font-family:Times New Roman,serif">"</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> in the documentation directory.</span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">SmoothD2 is a rebuild of </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">SmoothD written by <b>Tobias Bergmann</b></span><span style="font-size:12pt" lang="DE"> </span><a href="mailto:bergdichter@bergdichter.de" style="color:purple">bergdichter@bergdichter.de</a><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> The original SmoothD thread at Doom9 can be found at <a href="http://forum.doom9.org/showthread.php?t=84355&amp;highlight=smoothd" style="color:purple" rel="nofollow">http://forum.doom9.org/showthread.php?t=84355&amp;highlight=smoothd</a></span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:18pt;font-family:Times New Roman,serif" lang="DE">Changes From SmoothD</span></b></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Bug Fixes:</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">  Fixed crash bug if SmoothD was used more then once in a script.</span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Quality Improvements:</span></b></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-top:6pt;margin-bottom:0.0001pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">1.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Fixed a rounding error which caused the output to be on average ½ bit brighter then it should have been.</span></p></div><div><p style="margin:6pt 0in 0.0001pt 0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">2.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Improved the shift resampling positions.  4 resampling positions, </span><b><span style="font-size:12pt" lang="DE">num_shift</span></b><span style="font-size:12pt" lang="DE"> = </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">1, uses 4 non overlapping (no two shifts have the same row, or column, or diagonal in common) shift positions</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">.  8 resampling positions, </span><b><span style="font-size:12pt" lang="DE">num_shift</span></b><span style="font-size:12pt" lang="DE"> = </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">2,</span><span style="font-size:12pt" lang="DE"> </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">uses an 8 queens solution (by definition non overlapping) for the shift positions.  16 resampling positions</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">, </span><b><span style="font-size:12pt" lang="DE">num_shift</span></b><span style="font-size:12pt" lang="DE"> = 3</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">, is </span><span style="font-size:12pt;font-family:Times New Roman,serif">based on 4 instances of 4 queens with 1 instance in each quadrant, with minimal overlapping per quadrant.  64</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> resampling positions</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">, </span><b><span style="font-size:12pt" lang="DE">num_shift</span></b><span style="font-size:12pt" lang="DE"> = 4</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">, does all possible positions. Both</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span><b><span style="font-size:12pt" lang="DE">num_shift</span></b><span style="font-size:12pt" lang="DE"> = 1 </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">and</span><span style="font-size:12pt" lang="DE"> </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span><b><span style="font-size:12pt" lang="DE">num_shift</span></b><span style="font-size:12pt" lang="DE"> = 2 </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">provide </span><span style="font-size:12pt;font-family:Times New Roman,serif">noticeable</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> improvments at high quant values over their equivilents in SmoothD.</span><span style="font-size:12pt" lang="DE">  </span><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">n</span></b><b><span style="font-size:12pt" lang="DE">um_shift</span></b><span style="font-size:12pt" lang="DE"> = 3 </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">often has a </span><span style="font-size:12pt;font-family:Times New Roman,serif">noticeable </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">improvement over</span><span style="font-size:12pt" lang="DE"> <b>num_shift</b> = 2.  </span><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">n</span></b><b><span style="font-size:12pt" lang="DE">um_shift</span></b><span style="font-size:12pt" lang="DE"> = 4 </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">somtimes has a </span><span style="font-size:12pt;font-family:Times New Roman,serif">noticeable</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> improvement over</span><span style="font-size:12pt" lang="DE"> <b>num_shift</b> = 3.</span></p></div><div><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-top:6pt;margin-bottom:0.0001pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">3.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">The boarders at the bottom of the frame now filter at the same strength as the rest of the image.</span></p><p style="margin-right:0in;margin-left:0in;text-indent:0in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Dropped Features:  </span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">The </span><b><span lang="DE">adaptive_shift</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> argument has been removed.</span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Changed Features:  </span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">The effect of </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span><span style="font-size:12pt;font-family:Times New Roman,serif">Zero Weight is now</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> independent of  the </span><b><span style="font-size:12pt" lang="DE">quant</span></b><span style="font-size:12pt" lang="DE">, </span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span><b><span style="font-size:12pt" lang="DE">num_shift, </span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span><b><span style="font-size:12pt">Matrix</span></b><span style="font-size:12pt"> (</span><span style="font-size:12pt;font-family:Times New Roman,serif">for values less then 10)</span><b><span style="font-size:12pt">,</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">  and </span><b><span style="font-size:12pt">Qtype</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> values.</span></p><p style="margin-right:0in;margin-left:0in;text-indent:0in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">New Features: </span></b></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">1.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">Zero Weight now allows 0 as an argument which returns the average value of the shifted frames without including the original frame.  This increases the amount of filtering provided.  </span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">2.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">The new argument </span><b><span style="font-size:12pt">ZWce</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> allows the Zero Weight value to change from the edge to the center of macro blocks.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">3.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">The new argument </span><b><span style="font-size:12pt">ZWmask</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> allows the specification of the Zero Weight on a pixel by pixel basis by using a mask clip with pixel values set to the desired Zero Weight values.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">4.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">The new argument </span><b><span style="font-size:12pt">ZWlmDark</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> allows the Zero weight to be varied according to the pixel value being processed providing “luma masking” so detail in dark areas is not lost.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">5.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">The new argument </span><span><b><span style="font-size:12pt">ZWlmBright</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> allows</span></span><span style="font-size:12pt;font-family:Times New Roman,serif"> control of the amount of filtering </span><b><span style="font-size:12pt">ZWce</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> does on bright pixels.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">6.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">The new argument </span><b><span style="font-size:12pt">Qtype</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> allows the choice what quant-<span>dequant</span> processing to use. There are <span>three new quant-</span><span>dequant</span> pairs.  Along with the original <span><span>mpeg_intra,</span></span> there are now <span>mpeg_inter</span>, h263_intra, and h263_inter.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">7.<span style="font-family:Times New Roman;font-size:7pt"> </span></span><span style="font-size:12pt;font-family:Times New Roman,serif">The new argument </span><b><span style="font-size:12pt">Matrix</span></b><span style="font-size:12pt;font-family:Times New Roman,serif"> allows the choice of matrix to use from a number of predefined matrices including some that provide filtering predominately in only one direction, horizontal, vertical, each diagonal.</span></p><p style="margin-right:0in;margin-left:0.5in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-bottom:6pt"><span style="font-size:12pt;font-family:Times New Roman,serif">8. Color deblocking available via the SmoothD2c.avs script.</span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Speed Improvements:</span></b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">  Various code improvements, replaced 2 macroblock copy routines in the inner loop of the main algorithm, which were written in C, with mmx versions from the</span><span style="font-family:Times New Roman,serif" lang="DE">XVID</span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> library.  This resulted in SmoothD2 being about 1.5 times faster then SmoothD.  The following table shows the speed tests I ran for several filters on a i7-2600K 3.40GHz cpu.  With the additional optimizations done in </span><span style="font-family:Times New Roman,serif;font-size:12pt">Version 1.0.</span><span style="font-family:Times New Roman,serif;font-size:16px">a3 using a single cpu, "ncpu=1" SmoothD2 is around 3 times faster than SmoothD.  See the speed test page for details. </span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span></b></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:18pt;font-family:Times New Roman,serif" lang="DE">References</span></b></p><p style="margin-right:0in;margin-left:33.4pt;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif">1.<span style="font-family:Times New Roman;font-size:7pt;font-weight:normal"> </span></span></b><span style="font-size:12pt;font-family:Times New Roman,serif">  <span>Nosratinia</span>, Enhancement of JPEG-Compressed images by re-application of JPEG, Journal of VLSI Signal Processing, vol. 27, pp. 69-79, 2001.</span></p><p style="margin-right:0in;margin-left:33.4pt;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:12pt;font-family:Times New Roman,serif">2.<span style="font-family:Times New Roman;font-size:7pt;font-weight:normal"> </span></span></b><span style="font-size:12pt;font-family:Times New Roman,serif">  <a href="http://www.utdallas.edu/%7Earia/mcl/post/" style="color:purple" rel="nofollow">Homepage of Aria <span>Nosratinia</span></a></span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:18pt;font-family:Times New Roman,serif" lang="DE">Version</span></b></p><p style="margin-right:0in;margin-left:0.5in"><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt">Version 1.0.</span><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:16px">a3 September 08, 2012</span><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt">  </span><span style="color:rgb(0,0,0);font-family:Times New Roman,serif;font-size:12pt">third and last </span><span lang="DE"><font face="Times New Roman, serif" size="3">alpha release.  Bug fixes, lots of small improvements, major code cleanup, major speed improvements   </font></span></p><p style="margin-right:0in;margin-left:0.5in;font-size:medium;font-family:Times New Roman,serif"><span style="font-size:12pt">Version 1.0.</span><span style="font-size:16px">a2 May 24, 2012</span><span style="font-size:12pt">  </span><span style="font-size:12pt">second </span><span style="font-size:12pt" lang="DE">alpha release.  some cleanup and added SmoothD2c script for color deblocking.  </span></p><p style="margin-right:0in;margin-left:0.5in;font-size:medium;font-family:Times New Roman,serif;color:rgb(0,0,0)"><span style="font-size:12pt"> </span><span style="font-size:12pt">Version 1.0.</span>
<span style="font-size:16px">a1 April 26, 2012</span><span style="font-size:12pt"> </span><span style="font-size:12pt" lang="DE">alpha release</span><span style="font-size:12pt"> </span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:18pt;font-family:Times New Roman,serif" lang="DE">Known issues</span></b></p><p style="margin-right:0in;margin-left:0.45in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0);margin-top:6pt;margin-bottom:6pt"><span style="font-size:10pt;font-family:Symbol" lang="DE">·<span style="font-family:Times New Roman;font-size:7pt">    </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">Support for a user defined matrix, along with its strength, to be passed as arguments to SmoothD2.  Will probably be in next release.</span></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><b><span style="font-size:18pt;font-family:Times New Roman,serif" lang="DE">Limitations</span></b></p><p style="margin-right:0in;margin-left:0.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:10pt;font-family:Symbol" lang="DE">·<span style="font-family:Times New Roman;font-size:7pt">                     </span></span><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE">requires YV12</span></p><p style="margin-right:0in;margin-left:1.25in;font-size:11pt;font-family:Calibri,sans-serif;color:rgb(0,0,0)"><span style="font-size:12pt;font-family:Times New Roman,serif" lang="DE"> </span></p><p style="text-align:center;margin-right:0in;margin-left:1.25in;color:rgb(0,0,0)"><span lang="DE"><font face="georgia, serif" size="3"><b>Please use the download button at the top of the page to download the latest version of SmoothD2</b></font></span></p></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(1):</span>
<span>
<a href="https://sites.google.com/site/jconklin754smoothd2/home/speed-tests" dir="ltr">Speed Tests</a>
</span>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">التعليقات</div></div><div dir="rtl" style="text-align: right;" id="sites-comment-docos-pane" class="sites-comment-docos-pane"><div tabindex="0" class="dcs-a dcs-a-dcs-z-dcs-df dcs-a-dcs-nb"><div class="dcs-a-dcs-z-dcs-u"><div class="dcs-a-dcs-z-dcs-bb dcs-qe-dcs-mb-dcs-nb"><img data-userid="PREF_112686840530371465961" src="SmoothD2_files/silhouette96.png" id="dcs-img-0" class="dcs-a-dcs-l g-hovercard" alt="" height="48" width="48"><div class="dcs-a-dcs-z-dcs-bb-dcs-u"><div data-userid="PREF_112686840530371465961" class="dcs-a-dcs-z-dcs-xf dcs-o-dcs-kg-dcs-lg g-hovercard">مجهول</div><div class="dcs-a-dcs-c dcs-a-dcs-z-dcs-c-dcs-d"><textarea maxlength="2048" aria-haspopup="true" class="dcs-a-dcs-c-dcs-be" aria-label="مسودة التعليق" x-webkit-speech="" speech="">إضافة تعليق</textarea><div class="dcs-a-dcs-c-dcs-q-dcs-rb"></div><div class="dcs-a-dcs-c-dcs-q-dcs-r"></div><div class="dcs-a-dcs-c-dcs-ub-dcs-vb-dcs-kb" style="display: none">ستعمل الميزة +إشارة على إضافة أشخاص إلى هذه المشاركة وإرسال رسالة إلكترونية بذلك.</div><div class="dcs-a-dcs-c-dcs-ib-dcs-jb-dcs-kb" style="display: none">جارٍ التأكد من أن الأشخاص الذين ذكرتهم لديهم إمكانية دخول…</div><div class="dcs-a-dcs-c-dcs-xc"><div style="-moz-user-select: none;" role="button" class="dcs-o-dcs-kg-dcs-lg dcs-j-dcs-ac dcs-j-dcs-ac-dcs-bc dcs-a-dcs-c-dcs-of dcs-j-dcs-ac-dcs-zd" tabindex="0" title="نشر تعليق"><span class="dcs-a-dcs-c-dcs-xc-dcs-of">تعليق</span></div><div style="-moz-user-select: none;" role="button" class="dcs-o-dcs-kg-dcs-lg dcs-j-dcs-ac dcs-j-dcs-ac-dcs-je dcs-a-dcs-c-dcs-hb dcs-j-dcs-ac-dcs-zd" tabindex="0" title="إلغاء تعليق">إلغاء</div></div></div></div></div><div class="dcs-a-dcs-z-dcs-sb dcs-lb-dcs-mb-dcs-nb dcs-o-dcs-kg-dcs-lg">لا تمتلك صلاحيات تُمكّنك من إضافة تعليقات.</div><div class="dcs-a-dcs-nb dcs-a dcs-a-dcs-vc-dcs-wc"></div></div><div></div></div><span style="position: absolute;" tabindex="0"></span></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</tbody></table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/site/jconklin754smoothd2/home">تسجيل الدخول</a>|<a class="sites-system-link" href="https://sites.google.com/site/jconklin754smoothd2/system/app/pages/reportAbuse" target="_blank">الإبلاغ عن إساءة الاستخدام</a>|<a class="sites-system-link" href="javascript:void(0);" onclick="">طباعة الصفحة</a>|<a class="sites-system-link" href="https://sites.google.com/site/jconklin754smoothd2/system/app/pages/removeAccess" target="_blank">إزالة حق الدخول</a>|<span class="sites-system-link">تدعمه</span> <b class="powered-by"><a href="http://sites.google.com/">مواقع Google</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="SmoothD2_files/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true"><!--
/* Script removed by snapshot save */
--></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<div id="server-timer-div" style="display:none"> </div>
<script><!--
/* Script removed by snapshot save */
--></script>


<div id="goog-gt-tt" class="skiptranslate" dir="rtl"><div style="padding: 8px;"><div><div class="logo"><img src="SmoothD2_files/translate-32.png" height="20" width="20"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">النص الأصلي</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">المساهمة بترجمة أفضل</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div style="display: none;" class="status-message"></div></div><div style="display: none;"><iframe src="SmoothD2_files/xpc.html" style="height: 100%; width: 100%;" id="xpcpeerts4S" name="xpcpeerts4S"></iframe></div><div style="position: absolute; top: -1000px; height: 1px; width: 1px;"><object id="fI0ho7csc78" name="fI0ho7csc78" type="application/x-shockwave-flash" data="https://translate.googleapis.com/translate_static/js/element/hrs.swf" height="500" width="400"><param name="allowScriptAccess" value="always"></object></div><div class=" goog-te-ftab-float" id=":0.floatContainer" style="-moz-box-sizing: content-box; width: 60px; height: 24px;"><iframe id=":0.container" src="SmoothD2_files/unnamed.html" class="goog-te-ftab-frame skiptranslate" style="visibility: visible; -moz-box-sizing: content-box; width: 60px; height: 24px;" frameborder="0"></iframe></div></body></html>