<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>minvar AviSynth+ manyPlus Plugin Function</title>
</head>

<body>
	   <font color="#cc0033"><h1><center>minvar </center></h1></font>
	 
	  <BR><b>Author V. C. Mohan</b>
	  <BR>Date   1 Oct 2020
	  <BR>EMail: <a href="mailto:mohanvc@gmail.com">mohanvc</a>
	 
	  <P>This is an adaptive local noise
	  reduction  filter. It uses global variance of the noise,  local mean
	  and local variance in a moving grid of specified size. It tries to preserve 
	  edges as closely as possible. </P>
	  
	  <P>works in YUY2, Planar and, RGB color spaces and for all bit depths supported by avisynth+. This is thread safe : MT_NICE_FILTER.
	   
	  </P> 
	  
	  <P>The window for computing global variance  be located 
	  in  an area with least image grey level (luma) variations,
	  and as large as possible (10,000+ pixels)
	  so that noise statistics are correctly estimated. Note that window coordinates must be specified
	  </P>
	  
	  <P>The process tries to retain the sharpness of the image, though some 
	  blurring may be unavoidable. The process may be repeated number of times
	  to get desired result. However results depend on window selected. </P>
	  

<BR>

<table border="2" bordercolorlight="#c0c0c0" bordercolordark="#000000">

<caption align="top">Details of parameters </caption>
<tr>
       <td><b>Description</b></td>
       <td><b>Name</b></td>
       <td><b>Type</b></td>
       <td><b>Limits</b></td>
       <td><b>Default</b></td>
</tr>
<tr>
       <td>Input clip</td>
       <td></td>
       <td>clip</td>
       <td></td>
       <td>none</td>
</tr>
<tr>
       <td>frame number in which specified window is located</td>
       <td>sf</td>
       <td>integer</td>
       <td>within clip</td>
       <td>0</td>
</tr>

<tr>
       <td>Number of pixels along x axis in moving grid</td>
       <td>xgrid</td>
       <td>integer</td>
       <td>3 to 9</td>
       <td>5</td>
</tr>
<tr>
       <td>Number of pixels along y axis in moving grid</td>
       <td>ygrid</td>
       <td>integer</td>
       <td>3 to 9</td>
       <td>xgrid</td>
</tr>

<tr>
       <td>window left x  computing global variance</td>
       <td>lx</td>
       <td>integer</td>
       <td>within clip, less than rx</td>
       <td>none. Must be specified</td>
</tr>
<tr>
       <td>window top y for computing global variance</td>
       <td>ty</td>
       <td>integer</td>
       <td>within clip, less than by</td>
       <td>none. Must be specified</td>
</tr>
<tr>
       <td>window width for computing global variance</td>
       <td>wd</td>
       <td>integer</td>
       <td>lx + wd be within frame</td>
       <td>none. Must be specified</td>
</tr>
<tr>
       <td>window height for computing global variance</td>
       <td>ht</td>
       <td>integer</td>
       <td>ty + ht be within frame</td>
       <td>none. Must be specified</td>
</tr>

<tr>
       <td>Whether U and V of YUY2 and YUV formats to be processed</td>
       <td>uv</td>
       <td>boolean</td>
       <td>true for uv process, false for not process</td>
       <td>true</td>
</tr>
<tr>
       <td>Whether A value of RGB formats to be processed</td>
       <td>a</td>
       <td>boolean</td>
       <td>true yes, false no</td>
       <td>false</td>
</tr>

<tr>
       <td>Whether variance values are to be displayed as an error message</td>
       <td>show</td>
       <td>boolean</td>
       <td>true yes, false no</td>
       <td>false</td>
</tr>

</table>

<BR>
Usage examples
<BR>minvar()
<BR>minvar(sf = 35,lx=220,wd=245,ty=322,ht=150, uv = true)
<BR>
<table>

<tr>
       <td><img src="./grainnoise.png" width="720" height="480" border="0"></td>
</tr>
<tr>
       <td><img src="./graindenoised0.jpg" width="720" height="480" border="0"></td>
</tr>

</table>
<BR>
<table>

<tr>
       <td>To my <a href="../manyPlus.html">index</a> page</td>
	   <td<td>down load<a href="manyPlus.7z">manyPlus </a>plugin</td>
       <td>To <a href="http://www.avisynth.nl">Avisynth</a> </td>
</tr>
</table>	
  			
		
</body>
</html>
